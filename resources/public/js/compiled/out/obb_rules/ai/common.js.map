{"version":3,"file":"\/Users\/pedrosantos\/projects\/orionsbelt-battlegrounds\/obb-rules\/resources\/public\/js\/compiled\/out\/obb_rules\/ai\/common.js","sources":["common.cljc?rel=1454263153660"],"lineCount":309,"mappings":";AAAA;;;;;;;;;;;;;;;AAiBA;;;8BAAA,9BAAOA,oEAEJC,OAAOC,MAAMC,QAAQC,WAAWC;AAFnC,AAGE,8DAAA,vDAACC,0CAAsBJ,MAAMD,0FAAQG;;AAEvC;;;kCAAA,iDAAAG,nFAAMG,4EAEHT;AAFH,AAAA,IAAAO,aAAAD;aAAA,AAAAE,wBAAAD,WAAA,IAAA,hDAEWG;aAFX,AAAAF,wBAAAD,WAAA,IAAA,hDAEkBI;AAFlB,AAGE,oBAAI,+CAAA,\/CAACC,wCAAeZ;AAClB,QAAGU,SAAOC;;AACV,QAAGA,SAAOD;;;AAEd;;;iCAAA,jCAAMG,0EAEHZ,MAAMD;AAFT,AAGC,IAAMc,SAAO,AAACC,wCAAoBd;AAAlC,AACG,OAACQ,0CAAYT,OAAOc;;AAExB;;;mCAAA,nCAAOE,8EAEJhB,OAAOiB,OAAOd,WAAWe;AAF5B,AAGE,IAAMjB,QAAM,AAACkB,wCAAoBF;AAAjC,+GACMA,1BACA,iCAAA,jCAACG,+FAAgBF,zHACjB,mIAAA,2DAAA,9LAACE,iRAAgBjB,3SACjB,+TAAA,\/TAACiB,sYAAqB,mCAAA,nCAACZ,wBAAIL,\/bAC3B,gdAAA,zcAACiB,+fAAa,AAACP,yCAAWZ,MAAMD;;AAExC;;;mCAAA,nCAAOqB,8EAEJC,KAAKC,SAASC,QAAQC,mBAAmBP;;AAF5C,AAGE,IAAMQ,YAAU,AAACC,8CAA0BJ;IACrCK,kBAAgB,AAACC,6CAAWH,UAAUD;IACtCrB,eAAa,AAAC0B,sCAAkBR,KAAKM;IACrCG,SAAO,AAACC,+CAA2BT;iBAHzC,mFAAA,hGAIMpB,yJAAoB4B,OAAOH;IAC3B5B,SAAO,AAACiC,2CAAuBV;IAC\/BN,SAAO,AAAClB,sCAAQC,OAAOsB,KAAKC,SAASpB,WAAWC;AANtD,AAOE,GACE,CAAG,AAAC8B,0CAAsBX,YAAUL;AAClCM;;AAFJ,oBAGE,AAACW,yCAAelB;AACd,eAAOK;eAAKC;eAASC;eAAQI;eAAgB,CAAA,MAAKV;;;;;;;;AAJtD,AAMI,IAAMM,cAAQ,AAACY,yBAAKZ,QAAQ,AAACR,2CAAahB,OAAOiB,OAAOd,WAAWe;AAAnE,AACE,eAAOI;eAAKC;eAASC;eAAQI;eAAgB,CAAA,MAAKV;;;;;;;;;;;;;AAE5D;;;;qCAAA,rCAAMmB,kFAGHf,KAAKpB;AAHR,AAIE,+DAAA,yFAAA,jJAACmB,2CAAaC,KAAKpB,yCAAW,AAAC8B,+CAA2B9B;;AAE5D;;;;4CAAA,5CAAMoC,gGAGHhB,KAAKpB;AAHR,mEAKO,AAACqC,wBAAI,WAAKC,tGAEV,gCAAA,zBAACE;AAFI,AAAA,0FACG,oJAAA,pJAAClC,wBAAI,AAACiC,0BAAM,AAAA,yFAAUD,cAAY,AAAA,oFAAQA;GAFlD,AAACH,6CAAef,KAAKpB;;AAK5B;;;sCAAA,tCAAOyC,oFAEJC,YAAYC,KAAKL;AAFpB,AAGE,IAAMM,WAAS,CAAGD,OAAK,iBAAA,jBAACL;AAAxB,AACE,GAAI,CAAIO,oCAAuBD;2DACzBN,1BACA,iCAAA,jCAACpB,4FAAe,AAACsB,yBAAKE,YACA,iBAAA,jBAACJ,lKACvB,iPAAA,1OAACpB,gSAAY0B;;AAJnB;;;AAMJ;;;wCAAA,xCAAOE,wFAEJ1B,KAAKpB,QAAQ+C;AAFhB,AAGE,IAAM\/C,cAAQ,AAACyB,8CAA0BzB,QAAQ+C;IAC3CC,QAAM,AAAClB,+CAA2B9B;IAClCoB,WAAK,AAAC6B,uCAAmB7B,KAAK4B,MAAMhD;AAF1C,AAGE,OAACqC,wBAAI,gEAAA,mFAAA,mFAAA,kFAAA,xTAACa,4BAAQT,kQAA0BO,MAAMD,yBACzC,AAACZ,6CAAef,SAAKpB;;AAE9B;;;;4CAAA,5CAAMmD,gGAGH\/B,KAAKpB;AAHR,AAIE,IAAMoD,aAAW,AAACtB,+CAA2B9B;IACvCF,SAAO,AAACiC,2CAAuB\/B;IAC\/BqD,OAAK,AAACC,4CAAU,AAAC7B,8CAA0BzB;IAC3CuD,UAEa,2BAAA,3BAACG;kBAADD;AAAA,AAAS,+BAAAA,xBAACE;;6BAFV,AAACtB,wBAAI,AAACa,4BAAQJ,sCAAkB1B,KAAKpB,SAASqD,pIAC9C,AAACG;AAJpB,AAMED;;AAEJ;;;kCAAA,lCAAOK,4EAEJxC,KAAKpB,QAAQF,OAAO+D;AAFvB,AAGE,IAAMC,eAAa,AAAChC,+CAA2B9B;aAA\/C,mFAAA,5FACM+D,+IAAcD,aAAaD;IAC3B9C,SAAO,sDAAA,tDAACZ,0CAAsBiB,KAAKtB,0FAAQiE;AAFjD,AAAA,0FAGGA,OAAOhD,OAAO8C;;AAEnB;;;oCAAA,4CAAAG,hFAAOE;AAAP,AAAA,IAAAD,aAAAD;aAAA,AAAA1D,wBAAA2D,WAAA,IAAA,hDAEIF;aAFJ,AAAAzD,wBAAA2D,WAAA,IAAA,hDAEWlD;mBAFX,AAAAT,wBAAA2D,WAAA,IAAA,tDAEkBJ;AAFlB,AAGE,oBAAM,AAACM,4CAAkBpD;AAAzB,AACE,IAAMqD,gBAAc,AAAA,oFAAOrD;IACrBK,OAAK,AAACH,wCAAoBF;IAC1Bf,UAAQ,AAAC4B,sCAAkBR,KAAKyC;AAFtC,AAGE,OAACQ,2BAEC,AAAChC,wBAAI,gEAAA,kGAAA,lKAACa,4BAAQT,uHAAiBsB,oBAC1B,AAACZ,oDAAsB\/B,KAAKpB,UAEjC,AAACqC,wBAAI,gEAAA,kGAAA,lKAACa,4BAAQT,uHAAiBsB,oBAC1B,AAAC5B,6CAAef,KAAKpB;;AAVhC;;;AAYF;;;8CAAA,9CAAOsE,oGAEJlD,KAAKpB,QAAQgD;AAFhB,AAAA;;AAKA;;;8CAAA,9CAAOuB,oGAEJnD,KAAKpB,QAAQwE;AAFhB,AAGE,OAACd,2BAAO,WAAKV;AAAL,AACE,IAAAyB,qBAAK,sDAAA,rDAAM,AAAC7C,sCAAkBR,KAAK4B;AAAnC,AAAA,GAAAyB;AACK,OAACH,sDAAkBlD,KAAKpB,QAAQgD;;AADrCyB;;GAC8CD;;AAE1D,AAAA;;;;mCAAA,2CAAAE,9EAAMK;AAAN,AAAA,IAAAJ,YAAA;AAAA,AAAA,IAAAC,2BAAA,AAAA;AAAA,AAAA,IAAAC,yBAAA;;AAAA,AAAA,GAAA,CAAAA,yBAAAD;AAAA,AAAA,AAAAD,eAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,yBAAA;;;;AAAA;;;;AAAA,IAAAC,WAAA,AAAAH;AAAA,AAAA,QAAAG;KAAA;AAAA,OAAAC,+DAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,+DAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAC,MAAA,eAAA,iCAAA,AAAAL;;;;;AAAA,AAAA,iEAAA,jEAAMI,4EAGF3D,KAAKpB;AAHT,AAIG,+DAAA,QAAA,hEAAC+E,2CAAa3D,KAAKpB;;;AAJtB,AAAA,iEAAA,jEAAM+E,4EAKF3D,KAAKpB,QAAQiF,MAAMC;AALvB,AAMG,IAAM9B,aAAW,AAACtB,+CAA2B9B;IACvCmF,OAAK,AAACC,yCAAqBpF;IAC3BqF,WAAS,AAACC,4CAAwBH;IAClCrF,SAAO,AAACiC,2CAAuB\/B;IAC\/BuF,kBAAgB,yBAAA,zBAACC,6BAAO,AAACC,4BAAQ,AAACC,4DAAgCtE,KAAKpB;IACvE2F,cAAY,AAACzC,4BAAQU,gCAAYxC,KAAKpB,QAAQF;IAC9C8F,sBAAoB,AAACvD,wBAAIsD,YAAYJ;AAN3C,AAOE,OAAClD,wBAAI;kBAAAwD;AAAA,AAAA,IAAAC,aAAAD;aAAA,AAAAvF,wBAAAwF,WAAA,IAAA,hDAAM\/B;aAAN,AAAAzD,wBAAAwF,WAAA,IAAA,hDAAa\/E;mBAAb,AAAAT,wBAAAwF,WAAA,IAAA,tDAAoBjC;AAApB,yIACO9C,1BACA,iCAAA,8DAAA,\/FAACG,1BACD,8HAAA,2DAAA,zLAACA,4QAAgB6C,tSACjB,sTAAA,tTAAC7C,4WAAa+D,tYACd,6YAAA,7YAAC\/D,odAAqB2C,rfACtB,mgBAAA,5fAAC3C,kjBAAYmE;;CACpBO;;;AApBV,AAAA,2DAAA,3DAAMb;AAsBN;;;;0CAAA,1CAAMgB,4FAGH3E,KAAKpB;AAHR,AAIE,IAAMoD,aAAW,AAACtB,+CAA2B9B;IACvCF,SAAO,AAACiC,2CAAuB\/B;IAC\/BuF,qFAAqB,AAACS,gEAAoC5E,KAAKpB,xIAC1C,AAACuE,sDAAwBnD,KAAKpB;IACnD2F,cAAY,AAACzC,4BAAQU,gCAAYxC,KAAKpB,QAAQF;IAC9C8F,sBAAoB,AAACvD,wBAAIsD,YAAYJ;IACrChC,sCAAa,AAAClB,wBAAI6B,kCAAc0B,tFACnB,AAACpC;AAPpB,AAQED;;AAEJ;;;0CAAA,1CAAM0C,4FAEH3D;AAFH,AAGE,oBAAIA;AACF,IAAM4D,cAAY,oIAAA,nIAAG,CAAGrD,mCAAuB,AAAA,oFAAOP;AAAtD,AACE,UAAG,CAAG,iBAAA,jBAACA,0EAAe4D;;AAF1B;;;AAKF;;;+CAAA,\/CAAMC,sGAEH7D;AAFH,AAGE,oBAAIA;AACF,IAAM4D,cAAY,CAAA,OAAM,CAAA,QAAO,CAAGrD,mCAAuB,AAAA,oFAAOP;AAAhE,AACE,UAAG,CAAG,iBAAA,jBAACA,0EAAe4D;;AAF1B;;;AAKF;;;mCAAA,nCAAME,8EAEHtG,OAAOuG,OAAOC;AAFjB,AAKE,GAAI,CAAI,WAAA,VAAMD,qBACN,CAAI,AAAA,oFAAOA,WAAQxD;AACzB,OAAC0D,4BAAQF;;AACT,GAAI,CAAI,mBAAA,lBAAMC,6BACN,CAAG,CAAG,AAAA,oFAAOD,UAAQ,AAAA,oFAAOC,mBAAiBzD;AACnDwD;;AACA,IAAMtG,QAAM,iBAAA,jBAACsG;IACPG,UAAQ,yBAAA,zBAACF;IACTvF,SAAO,AAACZ,0CAAsBJ,MAAMD,OAAO0G;AAFjD,AAGE,oBAAI,AAACrC,4CAAkBpD;gHACjBsF,1BACA,iCAAA,jCAACnF,yFAAa,AAACD,wCAAoBF,3JACnC,oKAAA,pKAACG,+NAAe,AAACsB,yBAAK,iBAAA,jBAAC6D,6EAAiBG,hWACxC,0WAAA,1WAACC,gaAAcC,iBAAE,AAAA,oFAAQJ,tiBACzB,ujBAAA,hjBAACpF,smBAAY,CAAG,iBAAA,jBAACmF,0EAAc,yBAAA,zBAACC;;AACpCD","names":["obb-rules.ai.common\/process","player","board","element","raw-action","next-element","obb-rules.turn\/simulate-actions","p__41800","vec__41802","cljs.core\/nth","obb-rules.ai.common\/eval-scores","score1","score2","obb-rules.simplifier\/name=","obb-rules.ai.common\/eval-board","scores","obb-rules.evaluator\/eval-game","obb-rules.ai.common\/build-target","result","distance","obb-rules.result\/result-board","cljs.core\/assoc","obb-rules.ai.common\/find-targets","game","attacker","targets","current-coordinate","direction","obb-rules.element\/element-direction","next-coordinate","obb-rules.actions.direction\/update","obb-rules.board\/get-element","origin","obb-rules.element\/element-coordinate","obb-rules.element\/element-player","obb-rules.element\/element-range","obb-rules.result\/failed?","cljs.core\/conj","obb-rules.ai.common\/attack-options","obb-rules.ai.common\/find-possible-attacks","cljs.core\/map","option","cljs.core\/first","cljs.core\/into","obb-rules.ai.common\/prepend-actions","new-actions","cost","new-cost","obb-rules.laws\/max-action-points","obb-rules.ai.common\/rotate-and-attack","dir","coord","obb-rules.board\/swap-element","cljs.core\/partial","obb-rules.ai.common\/rotate-attack-options","coordinate","dirs","obb-rules.actions.direction\/other","options","cljs.core\/flatten","p1__41813#","cljs.core\/filter","cljs.core\/seq","obb-rules.ai.common\/goto-result","target-coord","source-coord","action","p__41814","vec__41816","obb-rules.ai.common\/build-options","obb-rules.result\/succeeded?","previous-cost","cljs.core\/concat","obb-rules.ai.common\/targets-in-range?","obb-rules.ai.common\/discard-possible-coords","coords","and__18358__auto__","var_args","args41817","len__19428__auto__","i__19429__auto__","G__41819","obb-rules.ai.common\/move-options","js\/Error","value","max-options","unit","obb-rules.element\/element-unit","mov-cost","obb-rules.unit\/unit-movement-cost","possible-coords","cljs.core\/take","cljs.core\/shuffle","obb-rules.actions.move\/find-possible-destinations","run-results","actions-and-results","p__41820","vec__41821","obb-rules.ai.common\/move-attack-options","obb-rules.actions.move\/find-all-possible-destinations","obb-rules.ai.common\/option-value-sorter","cost-factor","obb-rules.ai.common\/option-value-cost-sorter","obb-rules.ai.common\/join-options","master","current-option","cljs.core\/reduced","actions","cljs.core\/update","cljs.core\/+"]}